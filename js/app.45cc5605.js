(function(e){function t(t){for(var a,o,c=t[0],s=t[1],l=t[2],d=0,v=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("8a23"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",flat:""}},[n("div",{staticClass:"d-flex align-center flex-shrink-0",on:{dblclick:e.openTerminal}},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-bluetooth")]),n("h1",{staticClass:"text-h6",staticStyle:{"font-weight":"900"}},[e._v("BLX-PROTOTYPE")])],1),n("v-spacer"),e.notInstalled?n("v-btn",{staticClass:"ml-auto mr-n4",attrs:{text:""},on:{click:e.installApp}},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-arrow-down-bold-circle")]),n("span",{staticClass:"mr-2 d-none d-sm-block"},[e._v("Install App")])],1):e._e()],1),n("v-main",[n("v-fade-transition",[e.checkBluetoothAvailability||e.bluetoothAvailable?e._e():n("v-alert",{staticClass:"ma-4",attrs:{border:"right",elevation:"1",type:"error"}},[e._v("Bluetooth is not supported in your browser.")])],1),n("router-view",{attrs:{isBluetoothAvailable:e.bluetoothAvailable}})],1),n("Terminal",{attrs:{open:e.terminalOpen,closeTerminal:function(){e.terminalOpen=!1}}}),n("v-footer",{attrs:{color:"secondary"}},[n("v-spacer"),n("div",[e._v("© "+e._s((new Date).getFullYear()))])],1)],1)},i=[],o=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{value:e.open,fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:e.closeTerminal}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v("Debugging Terminal")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:e.closeTerminal}},[e._v("Close")])],1)],1),n("div",{attrs:{id:"term"}})],1)],1)],1)}),c=[],s=(n("c975"),n("a15b"),n("baa5"),n("b0c0"),n("b680"),n("ac1f"),n("25f0"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("96cf"),n("1da1")),l=function(){var e="V0.1 / 11.06.2020";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout(t,e)}))}function n(){if(void 0!=navigator.bluetooth){if("https:"!=location.protocol&&"file:"!=location.protocol&&"content:"!=location.protocol&&"localhost"!=location.hostname){var e="https://"+location.hostname+location.pathname;alert("HTTPS required. Jump to '"+e+"'"),window.location.assign(e)}}else alert("Browser does not support Bluetooth!")}var a,r,i,o,c,l,u,d,v,p,f,b="5c170001-b5a3-f393-e0a9-a37f42997c22",m="5c170002-b5a3-f393-e0a9-a37f42997c22",h="5c170003-b5a3-f393-e0a9-a37f42997c22",g=!1,x=!1,y=0,k=16,R=32,w=33,O=34,C=35,D=5e3,S="infile.dat",T=20,I=!0,E="3";function B(){Y("Disconnected"),r=void 0,i=void 0,g=!1}function A(){Y("Connected"),g=!0}function V(e){var t=new Uint8Array(e.target.value.buffer),n=t.length;if(n<2)return Y("ERROR(Data): NUS RX blocklen: "+n),void console.log(t);var a=t[0];if(a+2!=n)return Y("ERROR(Data): NUS RX blocklen/dlen(0): "+n+"/"+a),void console.log(t);var r,i,s,b,m=t[1],h=t.subarray(2);switch(m){case C:if(r=new TextDecoder("utf-8").decode(h),"~"==r.charAt(0)&&r.length>1)switch(r.charAt(1)){case"G":i=parseInt(r.substr(3)),s=parseInt(r.substr(r.indexOf(" "))),Y(s?"Get "+i+" Bytes from Position "+s:"Get "+i+" Bytes"),o=i,c=0,l=new Uint8Array(i),u=Date.now(),d=u-1e3;break;case"D":i=parseInt(r.substr(r.indexOf("DS:")+3)),s=parseInt(r.substr(r.indexOf("DA:")+3)),b=new Date(1e3*parseInt(r.substr(r.indexOf("DF:")+3))),Y("Disksize: "+(i/1024).toFixed(0)+" kB / Available: "+(s/1024).toFixed(0)+" kB Formated: ["+b.toLocaleDateString()+" "+b.toLocaleTimeString()+"]");break;case'"':i=r.lastIndexOf('"');var g=r.substring(2,i),k=r.substr(i);i=parseInt(k.substr(k.indexOf("L:")+2)),s=parseInt(k.substr(k.indexOf("CR:")+3),16),b=new Date(1e3*parseInt(k.substr(k.indexOf("T:")+2)));var D=k.indexOf("UC "),S=k.indexOf("ES "),E="";D>0&&(E=" (Unclosed)"),isNaN(s)||(E+=" CRC: "+s.toString(16).toUpperCase()),S>0&&(E=" ExtSync"),Y(' - "'+g+'" Len: '+i+" Bytes"+E+" ["+b.toLocaleDateString()+" "+b.toLocaleTimeString()+"]");break;case"X":Y("WARNING: Connection Autoclose soon");break;default:Y("ERROR((more)): '"+r+"' ???")}else Y("(more): '"+r+"'");break;case w:if(r=new TextDecoder("utf-8").decode(h),"~"==r.charAt(0)&&r.length>1)switch(r.charAt(1)){case"B":"(UNKNOWN)",b=r.indexOf(" "),b>0?(s=r.substr(b+1),16==s.length?(Y("Device MAC:"+s),s):y="ERROR: Invalid MAC"):y="ERROR: No MAC",i=parseInt(r.substr(3)),i>=T&&i<250?(p=i,Y("BLE Blocksize: "+p+" Bytes")):y="ERROR: BLE Blocksize: "+i;break;case"C":i=parseInt(r.substr(3)),b=r.indexOf(" "),b>0?(s=parseInt(r.substr(b+1)),s>0?y="ERROR: Connection Speed: ("+i+"): "+s:Y("Connection Speed: "+(i>50?"Standard (":"Fast (")+i+")")):y="ERROR: Connection Speed";break;case"T":i=parseInt(r.substr(3));var B,A=new Date(1e3*i),V=(Date.now()/1e3-i).toFixed(0);V>864e3||V<-864e3?B=" (Warning: DeviceTime Lost!)":((V<=1||V>=-1)&&(V=0),B=" (Delta to App: "+V+" sec)"),Y("Time: ["+A.toLocaleDateString()+" "+A.toLocaleTimeString()+"] "+B);break;case"N":i=parseInt(r.substr(3)),Y("Filesize: "+i+" Bytes"),v=i;break;case"L":i=parseInt(r.substr(3)),Y(i+" Bytes transferred");break;case"P":Y("File Ready");break;default:Y("ERROR(End): '"+r+"' ???")}else Y("End: '"+r+"'");x=!1;break;case R:switch(r=new TextDecoder("utf-8").decode(h),r.charAt(0)){case"R":i=parseInt(r.substr(2)),f=i<-199&&i>=0?"[NoSignal]":i,I&&Y("Signal (dBm):"+f);break;default:Y("Info: '"+r+"'")}break;case O:if(i=o-c,h.length>i){y="ERROR: Too many data";break}l.set(h,c),c+=a;var _=Date.now();if(_-d>1e3&&(i=(c/o*100).toFixed(0),Y("Get: "+i+"% / "+c+" Bytes"),d=_),i=o-c,0==i){var L=Date.now()-u;Y("Get OK ("+L/1e3+" sec, "+(c/L*1e3).toFixed(0)+" Bytes/sec)","t_app")}break;default:Y("ERROR(Data): '"+r+"'")}}function _(){return L.apply(this,arguments)}function L(){return L=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Y("Connect to '"+a.name+"'..."),e.prev=1,e.next=4,a.gatt.connect();case 4:return t=e.sent,e.next=7,t.getPrimaryService(b);case 7:return n=e.sent,e.next=10,n.getCharacteristic(m);case 10:return r=e.sent,e.next=13,n.getCharacteristic(h);case 13:return i=e.sent,e.next=16,i.startNotifications();case 16:i.addEventListener("characteristicvaluechanged",V),A(),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](1),Y("ERROR(Connect): '"+e.t0.message+"'");case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),L.apply(this,arguments)}function F(){return j.apply(this,arguments)}function j(){return j=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Y("Connect: Discover Devices"),e.prev=1,e.next=4,navigator.bluetooth.requestDevice({filters:[{services:[b]}]});case 4:return t=e.sent,a=t,a.addEventListener("gattserverdisconnected",B),e.next=9,_();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),y="ERROR(Discover): "+e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),j.apply(this,arguments)}function N(e){return P.apply(this,arguments)}function P(){return P=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:k,a=t.length,i=new Uint8Array(a+2),o=i.subarray(2),i[0]=a,i[1]=n,(new TextEncoder).encodeInto(t,o);try{r.writeValue(i.buffer)}catch(s){0==g&&(s="Connection lost"),y="ERROR(DeviceSend): "+s}case 8:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function $(e){return G.apply(this,arguments)}function G(){return G=Object(s["a"])(regeneratorRuntime.mark((function e(n){var a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:D,x=!0,e.next=4,N(n);case 4:if(y){e.next=15;break}case 5:if(1==x){e.next=7;break}return e.abrupt("break",15);case 7:return e.next=9,t(10);case 9:if(a-=10,!(a<0)){e.next=13;break}return y="ERROR(DeviceCmd): Timeout",e.abrupt("break",15);case 13:e.next=5;break;case 15:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return U=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,i,o,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.split(" "),e.t0=r[0].toLowerCase(),e.next="q"===e.t0||"quit"===e.t0?4:"l"===e.t0||"lines"===e.t0?6:"s"===e.t0||"sleep"===e.t0?10:"c"===e.t0||"connect"===e.t0?16:"d"===e.t0||"disconnect"===e.t0?18:"r"===e.t0||"reconnect"===e.t0?20:"g"===e.t0||"get"===e.t0?22:46;break;case 4:return te(),e.abrupt("break",47);case 6:return r.length>1&&(i=parseInt(r[1])),X=i,Y("Lines: "+i),e.abrupt("break",47);case 10:return r.length>1&&(i=parseInt(r[1])),Y("Sleep: "+i+" msec..."),e.next=14,t(i);case 14:return Y("...OK"),e.abrupt("break",47);case 16:return 0==g?F():y="ERROR(Cmd): Already connected!",e.abrupt("break",47);case 18:return 1==g?a.gatt.disconnect():y="ERROR(Cmd): Not connected!",e.abrupt("break",47);case 20:return 1==g?y="ERROR(Cmd): Already connected!":void 0==a?y="ERROR(Cmd): Nothing to Reconnect!":_(),e.abrupt("break",47);case 22:if(o=r[1],!(void 0==o||o.length<1||o.length>21)){e.next=26;break}return y="ERROR(Cmd): Filename",e.abrupt("break",47);case 26:return v=-1,S=o,e.next=30,$("N:"+o);case 30:if(!y){e.next=32;break}return e.abrupt("break",47);case 32:if(!(v<0)){e.next=35;break}return y="ERROR(SysCmd): No File",e.abrupt("break",47);case 35:if(Y('Get File "'+o+'": Total Len: '+v+" Bytes"),c=v,s=0,r[2]&&(s=parseInt(r[2]),c=r[3]?parseInt(r[3]):v-s),!(s<0||c<1||s+c>v)){e.next=42;break}return y="ERROR(SysCmd): Out of range of File",e.abrupt("break",47);case 42:return e.next=44,q(s,c);case 44:return y||J(),e.abrupt("break",47);case 46:y="ERROR(SysCmd): Command unknown";case 47:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function q(e,t){return z.apply(this,arguments)}function z(){return z=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n>1e3)){e.next=5;break}return e.next=3,$("C"+E,32e3);case 3:if(!y){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,$("G "+n+" "+t,6e5);case 7:if(!(n>1e3)){e.next=12;break}return e.next=10,$("CS",1e4);case 10:if(!y){e.next=12;break}return e.abrupt("return");case 12:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function J(){if(void 0!=c&&c)if(void 0!=l&&l.length==o)try{var e=S.lastIndexOf("."),t="application/octet-binary";if(e>1)switch(S.substr(e).toLowerCase()){case".jpg":t="image/jpeg";break;case".csv":t="application/csv;charset=utf-8";break;case".pdf":t="application/pdf";break;case".txt":case".log":t="text/plain;charset=utf-8";break}var n=new Blob([l],{type:t});saveAs(n,S),Y("Export '"+S+"'")}catch(a){Y("ERROR: Export failed!","t_err")}else alert("ERROR: Inconsistent Data");else alert("ERROR: No Data to export")}var X,W,H=15,K=[];function Y(t){void 0!=t?K.push(t):K[0]="*** BLX Terminal "+e+" ***";while(K.length>X)K.shift();void 0!=W&&(document.getElementById("blxTerminalOut").innerText=K.join("\n"))}function Q(e){13===e.keyCode||10===e.keycode?(e.preventDefault(),document.getElementById("blxTerminalSend").click()):27===e.keyCode&&(e.preventDefault(),document.getElementById("blxTerminalCmd").value="")}function Z(){return ee.apply(this,arguments)}function ee(){return ee=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=document.getElementById("blxTerminalCmd"),n=t.value.trim(),t.value="",t.focus(),Y("> "+n),ne(!1),y=0,!n.startsWith(".")){e.next=12;break}return e.next=10,M(n.substr(1));case 10:e.next=14;break;case 12:return e.next=14,$(n);case 14:y&&Y(y),ne(!0);case 16:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;void 0!=e?(X=t,W=document.getElementById(e),W.innerHTML="<div id='blxTerminalOut' style='border: 1px solid blue; margin: 3px'></div><div>Cmd: &gt <input id='blxTerminalCmd' typ='text' style='width: 80%;' maxlength='80'> <button id='blxTerminalSend'>Send</button></div>",document.getElementById("blxTerminalCmd").addEventListener("keyup",Q),document.getElementById("blxTerminalSend").addEventListener("click",Z),document.getElementById("blxTerminalCmd").focus(),Y(),ne(!0)):(void 0!=W&&(W.innerHTML=""),W=void 0)}function ne(e){void 0!=W&&(document.getElementById("blxTerminalSend").disabled=!e)}return n(),{setTerminal:function(e,t){return te(e,t)}}}(),u={name:"Terminal",mounted:function(){},data:function(){return{notifications:!1,sound:!0,widgets:!1}},watch:{open:function(e,t){e!==t&&!0===e&&this.$nextTick((function(){l.setTerminal("term")}))}},props:["open","closeTerminal"]},d=u,v=n("2877"),p=n("6544"),f=n.n(p),b=n("8336"),m=n("b0af"),h=n("169a"),g=n("132d"),x=n("0fd9"),y=n("2fa4"),k=n("71d9"),R=n("2a7f"),w=Object(v["a"])(d,o,c,!1,null,null,null),O=w.exports;f()(w,{VBtn:b["a"],VCard:m["a"],VDialog:h["a"],VIcon:g["a"],VRow:x["a"],VSpacer:y["a"],VToolbar:k["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]});var C={name:"App",components:{Terminal:O},data:function(){return{terminalOpen:!1,notInstalled:!0,checkBluetoothAvailability:!0,bluetoothAvailable:!1}},created:function(){var e=this;"undefined"===typeof window.navigator.bluetooth&&(this.checkBluetoothAvailability=!1,this.bluetoothAvailable=!1),navigator.bluetooth.getAvailability().then((function(t){e.bluetoothAvailable=t})).finally((function(){e.checkBluetoothAvailability=!1})),"onavailabilitychanged"in navigator.bluetooth&&navigator.bluetooth.addEventListener("availabilitychanged",(function(e){this.bluetoothAvailable=e.value,console.log("> Bluetooth is ".concat(e.value?"available":"unavailable"))}))},methods:{openTerminal:function(){this.terminalOpen=!0},installApp:function(){this.notInstalled=!1}}},D=C,S=(n("034f"),n("0798")),T=n("7496"),I=n("40dc"),E=n("0789"),B=n("553a"),A=n("f6c4"),V=Object(v["a"])(D,r,i,!1,null,null,null),_=V.exports;f()(V,{VAlert:S["a"],VApp:T["a"],VAppBar:I["a"],VBtn:b["a"],VFadeTransition:E["b"],VFooter:B["a"],VIcon:g["a"],VMain:A["a"],VSpacer:y["a"]});var L=n("9483");Object(L["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var F=n("f309"),j=n("da5b"),N=n.n(j);a["a"].use(F["a"]);var P=new F["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#001e67",secondary:"#eceff1",accent:"#FFA823",error:"#a6001f",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{en:N.a},current:"en"}}),$=(n("d5e8"),n("5363"),n("8c4f")),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",[n("v-card",{staticClass:"mx-auto",attrs:{flat:"",tile:""}},[n("v-list",{staticClass:"mb-2 pt-0",attrs:{outlined:""}},[n("v-list-item",{staticClass:"accent--text font-weight-black",attrs:{"two-line":"",ripple:!e.isBluetoothAvailable,disabled:!e.isBluetoothAvailable,color:"accent"},on:{click:e.addBleDevice}},[n("v-list-item-avatar",[n("v-icon",{staticClass:"accent white--text"},[e._v("mdi-plus")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"accent--text font-weight-black text-left"},[e._v("Live Connection")]),n("v-list-item-subtitle",{staticClass:"accent--text font-weight-regular text-left"},[e._v("Search for a new Bluetooth device and open a live connection")])],1)],1),n("v-divider"),n("v-subheader",[e._v("STORED DEVICES")]),n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selectedDevice,callback:function(t){e.selectedDevice=t},expression:"selectedDevice"}},e._l(e.devices,(function(t,a){return n("v-list-item",{key:a,on:{dblclick:function(t){return e.openDevice(t,a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-bluetooth")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-left",domProps:{textContent:e._s(t.name)}})],1)],1)})),1)],1)],1),n("v-fade-transition",["number"===typeof e.selectedDevice?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"8",sm:"10"}},[n("v-btn",{attrs:{loading:e.connectingToDevice,color:"accent",depressed:"",block:""},on:{click:e.connectToDevice}},[e._v("Read data")])],1),n("v-col",{attrs:{cols:"4",sm:"2"}},[n("v-btn",{attrs:{block:"",depressed:"",color:"error"}},[n("v-icon",[e._v("mdi-delete")])],1)],1)],1):e._e()],1)],1)],1)],1)},M=[],U="5c170001-b5a3-f393-e0a9-a37f42997c22",q={name:"Landing",data:function(){return{selectedDevice:null,connectingToDevice:!1}},computed:{devices:function(){return this.$store.state.devices}},methods:{delteDevice:function(){this.$store.commit("removeDevice",this.selectedDevice)},openDevice:function(e,t){this.$router.push("device/"+this.devices[t].id)},connectToDevice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.connectingToDevice=!0,t.prev=1,n=e.devices[e.selectedDevice],t.next=5,n.gatt.connect();case 5:t.sent,e.$router.push("device/"+e.devices[e.selectedDevice].id),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,e.connectingToDevice=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},addBleDevice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isBluetoothAvailable){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,navigator.bluetooth.requestDevice({filters:[{services:[U]}]});case 5:n=t.sent,a={name:n.name,id:n.id,log:[],lastSeen:(new Date).toISOString(),lastFetch:null,data:[]},e.$store.commit("setCurrentServer",n),e.$store.commit("upsertDevice",a),e.$router.push("device/"+n.id),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),console.warn(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()}},props:["isBluetoothAvailable"]},z=q,J=(n("cbf6"),n("62ad")),X=n("a523"),W=n("ce7e"),H=n("8860"),K=n("da13"),Y=n("8270"),Q=n("5d23"),Z=n("1baa"),ee=n("34c3"),te=n("e0c7"),ne=Object(v["a"])(z,G,M,!1,null,null,null),ae=ne.exports;f()(ne,{VBtn:b["a"],VCard:m["a"],VCol:J["a"],VContainer:X["a"],VDivider:W["a"],VFadeTransition:E["b"],VIcon:g["a"],VList:H["a"],VListItem:K["a"],VListItemAvatar:Y["a"],VListItemContent:Q["a"],VListItemGroup:Z["a"],VListItemIcon:ee["a"],VListItemSubtitle:Q["b"],VListItemTitle:Q["c"],VRow:x["a"],VSubheader:te["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",{staticClass:"blue-grey lighten-5",attrs:{elevation:"1",dense:""}},[n("v-btn",{attrs:{icon:""},on:{click:e.goBack}},[n("v-icon",[e._v("mdi-arrow-left")])],1),n("v-toolbar-title",[e._v("Device "+e._s(e.$route.params.id))])],1),n("v-container",{staticClass:"device"},[n("h5",{staticClass:"primary--text text-left mt-2"},[e._v("Current Reading")]),n("v-row",{staticClass:"pb-4",attrs:{dense:""}},[n("v-col",{staticClass:"py-1",attrs:{xs:"12",sm:"4",cols:"12"}},[n("v-text-field",{attrs:{"background-color":"blue-grey lighten-5",dense:"","hide-details":"",readonly:"",label:"Temp.",placeholder:"32.5 °C",filled:""}})],1),n("v-col",{staticClass:"py-1",attrs:{xs:"12",sm:"4",cols:"12"}},[n("v-text-field",{attrs:{"background-color":"blue-grey lighten-5",dense:"","hide-details":"",readonly:"",label:"Pressure",placeholder:"x hPa",filled:""}})],1),n("v-col",{staticClass:"py-1",attrs:{xs:"12",sm:"4",cols:"12"}},[n("v-text-field",{attrs:{"background-color":"blue-grey lighten-5",dense:"","hide-details":"",readonly:"",label:"Battery",placeholder:"2.2 V",color:"primary","append-outer-icon":"mdi-refresh",filled:""},on:{"click:append":function(t){return e.alert("test")}}})],1)],1),n("v-btn",{attrs:{big:"",depressed:"",block:"",color:"accent"}},[e._v("Fetch Data")]),n("v-btn",{attrs:{big:"",text:"",block:"",disabled:""}},[e._v("Set Parameters")]),n("v-btn",{attrs:{big:"",text:"",block:"",color:"error"}},[e._v("Delete Data from Logger")])],1)],1)},ie=[],oe={data:function(){return{}},methods:{goBack:function(){this.$router.go(-1)}}},ce=oe,se=n("8654"),le=Object(v["a"])(ce,re,ie,!1,null,null,null),ue=le.exports;f()(le,{VBtn:b["a"],VCol:J["a"],VContainer:X["a"],VIcon:g["a"],VRow:x["a"],VTextField:se["a"],VToolbar:k["a"],VToolbarTitle:R["b"]}),a["a"].use($["a"]);var de=[{path:"/",name:"Landing",component:ae},{path:"/device/:id",name:"Device",component:ue}],ve=new $["a"]({routes:de}),pe=ve,fe=(n("99af"),n("c740"),n("a434"),n("2909")),be=n("2f62");a["a"].use(be["a"]);var me="BLX_2020_",he=new be["a"].Store({state:{isBluetoothAvailable:!1,currentServer:null,devices:[{name:"Testgerät",id:"xyz",log:[],lastSeen:(new Date).toISOString(),lastFetch:(new Date).toISOString(),data:[]},{name:"Gerät 3",id:"xyz",log:[],lastSeen:(new Date).toISOString(),lastFetch:(new Date).toISOString(),data:[]}]},mutations:{initialiseStore:function(e){var t=localStorage.getItem(me+"devices");if("string"===typeof t)try{var n=JSON.parse(t);Array.isArray(n)&&(e.devices=n)}catch(a){}},upsertDevice:function(e,t){if(t){var n=e.devices.findIndex((function(e){return e.name===t.name&&e.id===t.id}));if(-1!==n){var a=Object(fe["a"])(e.devices);a[n]=t,e.devices=a}else e.devices=[].concat(Object(fe["a"])(e.devices),[t]);localStorage.setItem(me+"devices",JSON.stringify(e.devices))}},removeDevice:function(e,t){e.devices.splice(t,1),e.devices.localStorage.setItem(me+"devices",JSON.stringify(e.devices))},setCurrentServer:function(e,t){t&&(e.currentServer=t)}},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({vuetify:P,router:pe,store:he,beforeCreate:function(){this.$store.commit("initialiseStore")},render:function(e){return e(_)}}).$mount("#app")},"7ee4":function(e,t,n){},"8a23":function(e,t,n){},cbf6:function(e,t,n){"use strict";var a=n("7ee4"),r=n.n(a);r.a}});
//# sourceMappingURL=app.45cc5605.js.map
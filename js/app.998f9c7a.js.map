{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4cf4","webpack:///./src/App.vue?d0bf","webpack:///./src/components/Terminal.vue?78ba","webpack:///./blx_api/blx.js","webpack:///src/components/Terminal.vue","webpack:///./src/components/Terminal.vue?891f","webpack:///./src/components/Terminal.vue","webpack:///src/App.vue","webpack:///./src/App.vue?d328","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/views/Landing.vue?9550","webpack:///src/views/Landing.vue","webpack:///./src/views/Landing.vue?0491","webpack:///./src/views/Landing.vue","webpack:///./src/views/Device.vue?406b","webpack:///src/views/Device.vue","webpack:///./src/views/Device.vue?16b3","webpack:///./src/views/Device.vue","webpack:///./src/plugins/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/views/Landing.vue?7efc"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","openTerminal","_v","staticStyle","installApp","_e","checkBluetoothAvailability","bluetoothAvailable","terminalOpen","_s","Date","getFullYear","staticRenderFns","open","closeTerminal","blx","VERSION","sleep_ms","ms","Promise","setTimeout","blxSetup","undefined","navigator","bluetooth","location","protocol","hostname","sechost","pathname","alert","assign","NUS_device","NUS_data_chara_write","NUS_data_chara_read_noti","infile_exp_len","infile_read_len","infile_bytebuf","infile_t0","infile_infot","infile_file_len","max_ble_blocklen","last_rssi","NUS_SERVICE_UUID","NUS_DATA_CHARA_WRITE","NUS_DATA_CHARA_READ_NOTI","full_connected_flag","blxCmdBusy","blxErrMsg","BB_BLE_CMD","BB_BLE_INFO","BB_BLE_REPLY_END","BB_BLE_BINBLK_OUT","BB_BLE_REPLY_INTERM","DEV_TIMEOUT_MS","infile_name","MAX_MTU_BLE_40","show_rssi","con_fast_speed","onBlxDisconnected","terminalPrint","onBlxConnected","onBlxNUSData","event","Uint8Array","target","buffer","dlenbuf","console","log","dlen","txt_block","h","h2","h3","dcmd","datablock","subarray","TextDecoder","decode","charAt","parseInt","substr","indexOf","now","toFixed","toLocaleDateString","toLocaleTimeString","lastIndexOf","fname","substring","fdata","ucl_flag","esync_flag","fxtra","isNaN","toString","toUpperCase","tdinfo","tdelta","set","tw_new","dtime","blxConnectNus","gatt","connect","server","getPrimaryService","nus_service","getCharacteristic","startNotifications","addEventListener","message","blxConnectSelect","requestDevice","filters","services","device","bleSendData","tcmd","blen","bdata","TextEncoder","encodeInto","writeValue","error","blxDeviceCmd","cmd","timeout_ms","blxSysCmd","cmd_array","split","toLowerCase","setTerminal","val","terminal_lines","disconnect","fglen","pos0","blxGetfile","blxInfileExport","len","ppos","atype","blob","Blob","type","saveAs","e","terminalParent","TERMINAL_LINES","terminalContent","txt","document","getElementById","innerText","join","terminalKeyUpEvent","keyCode","keycode","preventDefault","click","terminalSendCmd","inpcmd","trim","focus","terminalUserEnable","startsWith","elementId","lines","innerHTML","enstat","disabled","mounted","notifications","sound","widgets","watch","newVal","oldVal","$nextTick","props","component","VBtn","VCard","VDialog","VIcon","VRow","VSpacer","VToolbar","VToolbarItems","VToolbarTitle","components","created","methods","notInstalled","VAlert","VApp","VAppBar","VFadeTransition","VFooter","VMain","register","process","ready","registered","cached","updatefound","updated","offline","Vue","use","Vuetify","theme","options","customProperties","themes","light","primary","secondary","accent","info","success","warning","lang","locales","en","current","isBluetoothAvailable","addBleDevice","model","callback","$$v","selectedDevice","expression","_l","$event","openDevice","domProps","connectingToDevice","connectToDevice","computed","devices","$store","state","delteDevice","commit","$router","id","VCol","VContainer","VDivider","VList","VListItem","VListItemAvatar","VListItemContent","VListItemGroup","VListItemIcon","VListItemSubtitle","VListItemTitle","VSubheader","goBack","$route","params","go","VTextField","VueRouter","routes","path","Landing","Device","router","Vuex","localStoragePrefix","Store","currentServer","lastSeen","toISOString","lastFetch","mutations","initialiseStore","devicesStr","localStorage","getItem","JSON","parse","Array","isArray","upsertDevice","foundIdx","findIndex","el","newArr","setItem","stringify","removeDevice","deviceId","setCurrentServer","actions","config","productionTip","vuetify","store","beforeCreate","render","App","$mount"],"mappings":"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","file":"js/app.998f9c7a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"flat\":\"\"}},[_c('div',{staticClass:\"d-flex align-center flex-shrink-0\",on:{\"dblclick\":_vm.openTerminal}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-bluetooth\")]),_c('h1',{staticClass:\"text-h6\",staticStyle:{\"font-weight\":\"900\"}},[_vm._v(\"BLX-PROTOTYPE\")])],1),_c('v-spacer'),(_vm.notInstalled)?_c('v-btn',{staticClass:\"ml-auto mr-n4\",attrs:{\"text\":\"\"},on:{\"click\":_vm.installApp}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-arrow-down-bold-circle\")]),_c('span',{staticClass:\"mr-2 d-none d-sm-block\"},[_vm._v(\"Install App\")])],1):_vm._e(),_c('v-btn',{attrs:{\"color\":\"accent\"},on:{\"click\":_vm.openTerminal}},[_vm._v(\"Open Terminal\")])],1),_c('v-main',[_c('v-fade-transition',[(!_vm.checkBluetoothAvailability && !_vm.bluetoothAvailable)?_c('v-alert',{staticClass:\"ma-4\",attrs:{\"border\":\"right\",\"elevation\":\"1\",\"type\":\"error\"}},[_vm._v(\"Bluetooth is not supported in your browser.\")]):_vm._e()],1),_c('router-view',{attrs:{\"isBluetoothAvailable\":_vm.bluetoothAvailable}})],1),_c('Terminal',{attrs:{\"open\":_vm.terminalOpen,\"closeTerminal\":function () {_vm.terminalOpen = false}}}),_c('v-footer',{attrs:{\"color\":\"secondary\"}},[_c('v-spacer'),_c('div',[_vm._v(\"© \"+_vm._s(new Date().getFullYear()))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"value\":_vm.open,\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeTerminal}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(\"Debugging Terminal\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.closeTerminal}},[_vm._v(\"Close\")])],1)],1),_c('div',{attrs:{\"id\":\"term\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// BLX Bluetooth API (C) joembedded.de\n// uses FileSaver.js\nexport const blx = (() => {\n  'use strict'\n  // private 'globals'\n  const VERSION = 'V0.1 / 11.06.2020'\n\n  // ======SETUP and helpers=======\n  function sleep_ms (ms = 1) {\t// use: await sleep_ms()\n    return new Promise(r => setTimeout(r, ms))\n  }\n\n  function blxSetup () {\n    // ------------- Check -----------\n    if (navigator.bluetooth == undefined) {\n      alert('Browser does not support Bluetooth!')\n      return\n    }\n\n    // possible to start as file or download (for tests)\n    if (location.protocol != 'https:' && location.protocol != 'file:' && location.protocol != 'content:' && location.hostname != 'localhost') {\n      const sechost = 'https://' + location.hostname + location.pathname\n      alert(\"HTTPS required. Jump to '\" + sechost + \"'\")\n      window.location.assign(sechost)\n    }\n  }\n\n  // BLE-CMDs - BLE JoWi's I/O -----\n  const NUS_SERVICE_UUID = '5c170001-b5a3-f393-e0a9-a37f42997c22'\n  const NUS_DATA_CHARA_WRITE = '5c170002-b5a3-f393-e0a9-a37f42997c22'\n  const NUS_DATA_CHARA_READ_NOTI = '5c170003-b5a3-f393-e0a9-a37f42997c22' // fuer Notifications\n\n  let NUS_device\n  let NUS_data_chara_write\n  let NUS_data_chara_read_noti\n  let full_connected_flag = false\t// It true: ALL OK\n\n  let blxCmdBusy = false\t\t\t// set to false by \"End\"\n  let blxErrMsg = 0\t\t\t\t// 0 or Text\n\n  // --- LTX BLE PROTOCOL--\n  const BB_BLE_CMD = 0x10\t\t// Terminal Kommando\n  const BB_BLE_BINBLK_IN = 0x11\t// BinBlk am BLE ankommend\n  const BB_BLE_PLING = 0x12\t\t// Pling am BLE ankommend\n  const BB_BLE_USERCMD = 0x13 // Usercommand\n\n  const BB_BLE_INFO = 0x20 \t\t// Info-Block z.B. RSSI, wird nicht-blockierend geschickt\n  const BB_BLE_REPLY_END = 0x21\t// Ende einer Antwort\n  const BB_BLE_BINBLK_OUT = 0x22\t// BinBlk am BLE ausgehend\n  const BB_BLE_REPLY_INTERM = 0x23 // Intermediate Part of Reply\n\n  const DEV_TIMEOUT_MS = 5000\t// Default Timeout to CMDs\n\n  // Local vars\n  // Fuer File Upload GET\n  let infile_name = 'infile.dat'\t// Name der GET Datei\n  let infile_exp_len\t\t\t\t// Erwartete laenge\n  let infile_read_len \t\t\t// zu lesende laenge\"\n  let infile_bytebuf\t\t\t\t// Hierher die Bytes lesen, bleibt\n  let infile_t0\t\t\t\t\t// Date.now\n  let\tinfile_infot\t\t\t\t// Info-Time Update Info alle Sekunde max.\n  let infile_file_len\t\t\t// Was 'N' sagt\n\n  let device_mac\t\t\t\t\t// Wenn gueltig: exakt 16 Digts, sonst undefined\n\n  const MAX_MTU_BLE_40 = 23 - 3\t// initial blocklen max MTU BLE 4.0\n  let max_ble_blocklen\n\n  let last_rssi\t\t\t\t\t// Val: -199..-1 dbm, or 0, undefined if used\n  const show_rssi = true\n\n  const con_fast_speed = '3'\t\t// String, \"F\":Auto or \"3\"(fast)..\"30\"(slow)\n\n  // Functions\n  function onBlxDisconnected () {\n    terminalPrint('Disconnected')\n    // NUS_device = undefined;\t// Keep Device data\n    NUS_data_chara_write = undefined\n    NUS_data_chara_read_noti = undefined\n    full_connected_flag = false\n  }\n  function onBlxConnected () {\n    terminalPrint('Connected')\n    full_connected_flag = true\n  }\n\n  function onBlxNUSData (event) {\n    const data = new Uint8Array(event.target.value.buffer) // Array Buffer\n    const dlenbuf = data.length\n    if (dlenbuf < 2) {\n      terminalPrint('ERROR(Data): NUS RX blocklen: ' + dlenbuf)\n      console.log(data)\n      return\t// ignore\n    }\n    const dlen = data[0]\n    if (dlen + 2 != dlenbuf) {\n      terminalPrint('ERROR(Data): NUS RX blocklen/dlen(0): ' + dlenbuf + '/' + dlen)\n      console.log(data)\n      return\t// ignore\n    }\n    const dcmd = data[1]\n    const datablock = data.subarray(2)\t// Content for Block \"dcmd\"[dlen]\n    let txt_block\n    let h, h2, h3\n\n    switch (dcmd) {\n      case BB_BLE_REPLY_INTERM:\t // Untermediate Part of Reply\n        txt_block = new TextDecoder('utf-8').decode(datablock)\n\n        // Abfangen, was geparst werden kann\n        if (txt_block.charAt(0) == '~' && txt_block.length > 1) {\t// '~' Invisible (data[2]==126), followed by X:data\n          switch (txt_block.charAt(1)) {\n            case 'G':\t// Get: Expecting File\n              h = parseInt(txt_block.substr(3))\t// Len\n              h2 = parseInt(txt_block.substr(txt_block.indexOf(' ')))\n              if (h2) {\n                terminalPrint('Get ' + h + ' Bytes from Position ' + h2) // Pos0\n              } else {\n                terminalPrint('Get ' + h + ' Bytes')\n              }\n              infile_exp_len = h\n              infile_read_len = 0\n              infile_bytebuf = new Uint8Array(h)\n              infile_t0 = Date.now()\n              infile_infot = infile_t0 - 1000\t// Erste Info sofort\n              break\n            case 'D':\n              h = parseInt(txt_block.substr(txt_block.indexOf('DS:') + 3))\n              h2 = parseInt(txt_block.substr(txt_block.indexOf('DA:') + 3))\n\n              h3 = new Date(parseInt(txt_block.substr(txt_block.indexOf('DF:') + 3)) * 1000)\n\n              terminalPrint('Disksize: ' + (h / 1024).toFixed(0) + ' kB / Available: ' + (h2 / 1024).toFixed(0) + ' kB Formated: [' +\n\t\t\t\t\t\th3.toLocaleDateString() + ' ' + h3.toLocaleTimeString() + ']')\n              break\n            case '\\\"':\n              h = txt_block.lastIndexOf('\"')\n              const fname = txt_block.substring(2, h)\t// P P\n              const fdata = txt_block.substr(h)\t// The Rest\n              h = parseInt(fdata.substr(fdata.indexOf('L:') + 2)) // LEN\n              h2 = parseInt(fdata.substr(fdata.indexOf('CR:') + 3), 16) // CRC (if any) as HEX\n              h3 = new Date(parseInt(fdata.substr(fdata.indexOf('T:') + 2)) * 1000)\n              const ucl_flag = fdata.indexOf('UC ')\n              const esync_flag = fdata.indexOf('ES ')\n              let fxtra = ''\n              if (ucl_flag > 0) fxtra = ' (Unclosed)'\n              if (!isNaN(h2)) fxtra += ' CRC: ' + h2.toString(16).toUpperCase()\n              if (esync_flag > 0) fxtra = ' ExtSync'\n              terminalPrint(' - \"' + fname + '\" Len: ' + h + ' Bytes' + fxtra + ' [' + h3.toLocaleDateString() + ' ' + h3.toLocaleTimeString() + ']')\n\n              break\n\n            case 'X':\n              terminalPrint('WARNING: Connection Autoclose soon')\n              break\n\n            default: \t// Kein Fehler melden, koennte Erweiterung sein\n              terminalPrint(\"ERROR((more)): '\" + txt_block + \"' ???\")\n          }\n        } else {\n          terminalPrint(\"(more): '\" + txt_block + \"'\")\n        }\n        break\n\n      case BB_BLE_REPLY_END:\t// Text Out - Reply to requested Block\n        txt_block = new TextDecoder('utf-8').decode(datablock)\n\n        // Abfangen, was geparst werden kann\n        if (txt_block.charAt(0) == '~' && txt_block.length > 1) {\t// '~' Invisible (data[2]==126), followed by X:data\n          switch (txt_block.charAt(1)) {\n            case 'B':\t// BLE Blocksize wird interpretiert\n              device_mac = '(UNKNOWN)'\n              h3 = txt_block.indexOf(' ')\n              if (h3 > 0) {\n                h2 = txt_block.substr(h3 + 1)\n                if (h2.length == 16) {\n                  terminalPrint('Device MAC:' + h2)\n                  device_mac = h2\t// merken\n                } else {\n                  blxErrMsg = 'ERROR: Invalid MAC'\n                }\n              } else {\n                blxErrMsg = 'ERROR: No MAC'\n              }\n              h = parseInt(txt_block.substr(3))\n              if (h >= MAX_MTU_BLE_40 && h < 250) {\n                max_ble_blocklen = h\n                terminalPrint('BLE Blocksize: ' + max_ble_blocklen + ' Bytes')\n              } else {\n                blxErrMsg = 'ERROR: BLE Blocksize: ' + h\n              }\n              break\n\n            case 'C':\t// Connection Speed\n              h = parseInt(txt_block.substr(3))\n              h3 = txt_block.indexOf(' ')\n              if (h3 > 0) {\n                h2 = parseInt(txt_block.substr(h3 + 1))\n                if (h2 > 0) {\n                  blxErrMsg = 'ERROR: Connection Speed: (' + h + '): ' + h2\n                } else {\n                  terminalPrint('Connection Speed: ' + ((h > 50) ? 'Standard (' : 'Fast (') + h + ')')\n                }\n              } else {\n                blxErrMsg = 'ERROR: Connection Speed'\n              }\n              break\n\n            case 'T':\t// Time\n              h = parseInt(txt_block.substr(3))\n              const d = new Date(h * 1000)\n              let tdelta = (((Date.now()) / 1000) - h).toFixed(0)\n              let tdinfo\n              if (tdelta > 864000 || tdelta < -864000) {\n                tdinfo = ' (Warning: DeviceTime Lost!)'\n              } else {\n                if (tdelta <= 1 || tdelta >= -1) tdelta = 0\t// Cosmetics\n                tdinfo = ' (Delta to App: ' + tdelta + ' sec)'\n              }\n              terminalPrint('Time: [' + d.toLocaleDateString() + ' ' + d.toLocaleTimeString() + '] ' + tdinfo)\n              break\n\n            case 'N':\t// File-NAME\n              h = parseInt(txt_block.substr(3))\n              terminalPrint('Filesize: ' + h + ' Bytes')\n              infile_file_len = h\n              break\n            case 'L':\t// Received\n              h = parseInt(txt_block.substr(3))\n              terminalPrint(h + ' Bytes transferred')\n              break\n\n            case 'P':\t// File Ready for PUT\n              terminalPrint('File Ready')\n              break\n            default: \t// Kein Fehler melden, koennte Erweiterung sein\n              terminalPrint(\"ERROR(End): '\" + txt_block + \"' ???\")\n          }\n        } else {\n          terminalPrint(\"End: '\" + txt_block + \"'\")\n        }\n        blxCmdBusy = false\t// Read for new commands\n        break\n\n      case BB_BLE_INFO: // Unsolicited CMDs (Radio signal strength, MSGs, ..)\n        txt_block = new TextDecoder('utf-8').decode(datablock)\n        switch (txt_block.charAt(0)) {\n          case 'R':\t// RSSI\n            h = parseInt(txt_block.substr(2))\n            if (h < -199 && h >= 0) last_rssi = '[NoSignal]'\n            else last_rssi = h\n            if (show_rssi) terminalPrint('Signal (dBm):' + last_rssi)\n            break\n          default:\n            terminalPrint(\"Info: '\" + txt_block + \"'\")\n        }\n        break\n\n      case BB_BLE_BINBLK_OUT: // BinaryData ankommend\n        // terminalPrint(\"BIN-Data: '\"+datablock.length+\"' Bytes\");\n\n        h = infile_exp_len - infile_read_len\n        if (datablock.length > h) {\n          blxErrMsg = 'ERROR: Too many data'\n          break\n        }\n\n        // terminalPrint(\"Pos: \"+infile_read_len+\" Len: \"+datablock.length+\" Fehlt:\"+h);\n        // Aufgabe datablock[] an infile_bytebuf[infile_read_len] kopieren\n        infile_bytebuf.set(datablock, infile_read_len)\n        infile_read_len += dlen\n\n        const tw_new = Date.now()\n        if (tw_new - infile_infot > 1000) {\t// Alle Sekunde Fortschritt\n          h = ((infile_read_len / infile_exp_len) * 100).toFixed(0)\n          terminalPrint('Get: ' + h + '% / ' + infile_read_len + ' Bytes')\n          infile_infot = tw_new\n        }\n\n        h = infile_exp_len - infile_read_len\n        if (h == 0) {\t// Alles gelesen\n          const dtime = Date.now() - infile_t0\n          terminalPrint('Get OK (' + dtime / 1000 + ' sec, ' + ((infile_read_len / dtime * 1000).toFixed(0)) + ' Bytes/sec)', 't_app')\n        }\n\n        break\n\n      default:\n        terminalPrint(\"ERROR(Data): '\" + txt_block + \"'\")\n    }\n  }\n\n  // Connetiert NUS_device\n  async function blxConnectNus () {\n    terminalPrint(\"Connect to '\" + NUS_device.name + \"'...\")\n    try {\n      const server = await NUS_device.gatt.connect()\n      const nus_service = await server.getPrimaryService(NUS_SERVICE_UUID)\n      NUS_data_chara_write = await nus_service.getCharacteristic(NUS_DATA_CHARA_WRITE)\n      NUS_data_chara_read_noti = await nus_service.getCharacteristic(NUS_DATA_CHARA_READ_NOTI)\n      await NUS_data_chara_read_noti.startNotifications()\n      NUS_data_chara_read_noti.addEventListener('characteristicvaluechanged', onBlxNUSData)\n      onBlxConnected()\n    } catch (error) {\n      terminalPrint(\"ERROR(Connect): '\" + error.message + \"'\")\n    }\n  }\n\n  // BLE Selector Box\n  async function blxConnectSelect () {\n    terminalPrint('Connect: Discover Devices')\n    try {\n      const device = await navigator.bluetooth.requestDevice({ filters: [{ services: [NUS_SERVICE_UUID] }] })\n      NUS_device = device\n      NUS_device.addEventListener('gattserverdisconnected', onBlxDisconnected)\n      await blxConnectNus()\n    } catch (error) {\n      blxErrMsg = 'ERROR(Discover): ' + error\n    }\n  }\n\n  async function bleSendData (data, tcmd = BB_BLE_CMD) {\n    // console.log(\"DeviceSend: '\"+data+\"'\");\n    const blen = data.length\n    const bdata = new Uint8Array(blen + 2)\n    const datablock = bdata.subarray(2)\t// Content for Block \"dcmd\"[dlen]\n    bdata[0] = blen\n    bdata[1] = tcmd \t// meistens BB_BLE_CMD; - Text CMD\n    const dummy = new TextEncoder().encodeInto(data, datablock)\n    try {\n      NUS_data_chara_write.writeValue(bdata.buffer)\n    } catch (error) {\n      if (full_connected_flag == false) error = 'Connection lost'\n      blxErrMsg = 'ERROR(DeviceSend): ' + error\n    }\n  }\n\n  // =====Commands=====\n  // -----Device Commands: Single commands with reply directly from the device------\n  async function blxDeviceCmd (cmd, timeout_ms = DEV_TIMEOUT_MS) { // case dep.\n    blxCmdBusy = true\n    await bleSendData(cmd)\n    if (!blxErrMsg) {\n      for (;;) {\t// Poll reply in 10 ms steps\n        if (blxCmdBusy != true) break\n        await sleep_ms(10)\n        timeout_ms -= 10\n        if (timeout_ms < 0) {\n          blxErrMsg = 'ERROR(DeviceCmd): Timeout'\n          break\n        }\n      }\n    }\n  }\n\n  // -----System Commands: Non-device commands or complex commands to device------\n  async function blxSysCmd (cmd) {\n    const cmd_array = cmd.split(' ')\n    let val\n    let fname\n\n    switch (cmd_array[0].toLowerCase()) { // case independant\n      case 'q': case 'quit':\t// Hide Termional\n        setTerminal()\n        break\n\n      case 'l': case 'lines':\t// No. of lines\n        if (cmd_array.length > 1) val = parseInt(cmd_array[1])\n        terminal_lines = val\n        terminalPrint('Lines: ' + val)\n        break\n\n      case 's': case 'sleep':\t// Sleep x msec - Test function\n        if (cmd_array.length > 1) val = parseInt(cmd_array[1])\n        terminalPrint('Sleep: ' + val + ' msec...')\n        await sleep_ms(val)\n        terminalPrint('...OK')\n        break\n\n      case 'c': case 'connect':\n        if (full_connected_flag == false) {\n          blxConnectSelect()\n        } else {\n          blxErrMsg = 'ERROR(Cmd): Already connected!'\n        }\n        break\n      case 'd': case 'disconnect':\n        if (full_connected_flag == true) {\n          NUS_device.gatt.disconnect()\t// Works always\n        } else {\n\t\t\t\t blxErrMsg = 'ERROR(Cmd): Not connected!'\n        }\n        break\n\n      case 'r': case 'reconnect':\n        if (full_connected_flag == true) {\n          blxErrMsg = 'ERROR(Cmd): Already connected!'\n        } else if (NUS_device == undefined) {\n          blxErrMsg = 'ERROR(Cmd): Nothing to Reconnect!'\n        } else {\n          blxConnectNus()\n        }\n        break\n\n        // File cmds\n      case 'g': case 'get':\n        // g FNAME\t- alles  (oder get)\n        // g FNAME pos0 - ab pos0 bis Ende\n        // g FNAME pos0 anz   - anz Bytes ab pos0\n        fname = cmd_array[1]\n        if (fname == undefined || fname.length < 1 || fname.length > 21) {\n          blxErrMsg = 'ERROR(Cmd): Filename'\n          break\n        }\n\n        infile_file_len = -1\t// Nix\n        infile_name = fname\n\n        await blxDeviceCmd('N:' + fname)\n\n        if (blxErrMsg) break\t// Error or no reply\n\n        if (infile_file_len < 0) {\n          blxErrMsg = 'ERROR(SysCmd): No File'\n          break\t// Error oder nix zu holen\n        }\n\n        terminalPrint('Get File \"' + fname + '\": Total Len: ' + infile_file_len + ' Bytes')\n        let fglen = infile_file_len\n        let pos0 = 0\n        if (cmd_array[2]) { \t// Pos 0\n          pos0 = parseInt(cmd_array[2])\n          if (cmd_array[3]) {\n            fglen = parseInt(cmd_array[3])\n          } else {\n            fglen = infile_file_len - pos0\n          }\n        }\n        if (pos0 < 0 || fglen < 1 || pos0 + fglen > infile_file_len) {\n          blxErrMsg = 'ERROR(SysCmd): Out of range of File'\n          break\n        }\n\n        await blxGetfile(pos0, fglen)\n\n        if (!blxErrMsg) blxInfileExport()\t// SAVE to PC if OK\n\n        break\n\n      default:\n        blxErrMsg = 'ERROR(SysCmd): Command unknown'\n    }\n  }\n\n  // Function blxGetfile(): Hilt sich ein File, was vorher via N angefragt worden ist/Name gesetzt\n  // infile_ tw. schon initialisiert\n  async function blxGetfile (pos0, len) {\n    if (len > 1000) {\n      await blxDeviceCmd('C' + con_fast_speed, 32000)\t// Anscheinend Timeout ca. 30 sec\n      if (blxErrMsg) return\n      // console.log(\"Fast OK\");\n    }\n\n    await blxDeviceCmd('G ' + len + ' ' + pos0, 600000)\t//\n\n    if (len > 1000) {\t// Mehr als 1k Daten: -> Wieder SLOW\n      // console.log(\"Set To Slow\");\n      await blxDeviceCmd('CS', 10000)\n      if (blxErrMsg) return\n      // console.log(\"Slow OK\");\n    }\n  }\n\n  // Gelesene Daten aus variable nach File exportieren,\n  function blxInfileExport () {\n    if (infile_read_len == undefined || !infile_read_len) {\n      alert('ERROR: No Data to export')\n      return\n    }\n    if (infile_bytebuf == undefined || infile_bytebuf.length != infile_exp_len) {\n      alert('ERROR: Inconsistent Data')\n      return\n    }\n    try {\n      const ppos = infile_name.lastIndexOf('.')\n      let atype = 'application/octet-binary'\n      if (ppos > 1) {\n        switch (infile_name.substr(ppos).toLowerCase()) {\n        // src:  https://www.sitepoint.com/mime-types-complete-list/\n          case '.jpg':\n            atype = 'image/jpeg'\n            break\n          case '.csv':\n            atype = 'application/csv;charset=utf-8'\n            break\n          case '.pdf':\n            atype = 'application/pdf'\n            break\n          case '.txt':\n          case '.log':\n            atype = 'text/plain;charset=utf-8'\n            break\n\t\t\t\t// etc...\n        }\n      }\n\n      const blob = new Blob([infile_bytebuf], { type: atype }) // BlobType: MDN-File API\n      saveAs(blob, infile_name)\n      terminalPrint(\"Export '\" + infile_name + \"'\")\n      /* optional\n\t\t\t\tterminalPrint(\"Calculated CRC32: \"+crc32_calc(infile_bytebuf).toString(16));\n\t\t\t*/\n    } catch (e) {\n      terminalPrint('ERROR: Export failed!', 't_err')\n    }\n  }\n\n  // =======Terminal-Emulation=======\n  const TERMINAL_LINES = 15\t// Default\n  let terminal_lines\t// Real\n  let terminalParent\t// parent HTML Element for terminal box\n  const terminalContent = []\n\n  function terminalPrint (txt) {\n    if (txt != undefined) terminalContent.push(txt)\n    else terminalContent[0] = '*** BLX Terminal ' + VERSION + ' ***'\n    while (terminalContent.length > terminal_lines) terminalContent.shift()\n    if (terminalParent != undefined) document.getElementById('blxTerminalOut').innerText = terminalContent.join('\\n')\n  }\n  function terminalKeyUpEvent (e) {\n    if (e.keyCode === 13 || e.keycode === 10) {\t// CR NL\n      e.preventDefault()\n      document.getElementById('blxTerminalSend').click()\n    } else if (e.keyCode === 27) {\t// Esc\n      e.preventDefault()\n      document.getElementById('blxTerminalCmd').value = ''\n    }\n  }\n  async function terminalSendCmd () {\n    const inpcmd = document.getElementById('blxTerminalCmd')\n    const cmd = inpcmd.value.trim()\n    inpcmd.value = ''\n    inpcmd.focus()\n    terminalPrint('> ' + cmd)\n    terminalUserEnable(false)\n    blxErrMsg = 0\n    if (cmd.startsWith('.')) await blxSysCmd(cmd.substr(1))\n    else await blxDeviceCmd(cmd)\n    if (blxErrMsg) terminalPrint(blxErrMsg)\n    terminalUserEnable(true)\n  }\n  function setTerminal (elementId, lines = TERMINAL_LINES) { // (De-Assign Terminal to HTML Element)\n    if (elementId != undefined) {\n      terminal_lines = lines\n      terminalParent = document.getElementById(elementId)\n      terminalParent.innerHTML = \"<div id='blxTerminalOut' style='border: 1px solid blue; margin: 3px'></div>\" +\n\t\t\t\t\t\"<div>Cmd: &gt <input id='blxTerminalCmd' typ='text' style='width: 80%;' maxlength='80'> <button id='blxTerminalSend'>Send</button></div>\"\n      document.getElementById('blxTerminalCmd').addEventListener('keyup', terminalKeyUpEvent)\n      document.getElementById('blxTerminalSend').addEventListener('click', terminalSendCmd)\n      document.getElementById('blxTerminalCmd').focus()\n      terminalPrint()\n      terminalUserEnable(true)\n    } else {\n      if (terminalParent != undefined) terminalParent.innerHTML = ''\n      terminalParent = undefined\n    }\n  }\n  function terminalUserEnable (enstat) {\n    if (terminalParent != undefined) document.getElementById('blxTerminalSend').disabled = !enstat\n  }\n\n  //= =========the API==========\n  blxSetup()\n  return {\n    setTerminal: (elementId, lines) => setTerminal(elementId, lines)\n  }\n})()\n","<template>\n  <v-row justify=\"center\">\n    <v-dialog :value=\"open\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n      <v-card>\n        <v-toolbar dark color=\"primary\">\n          <v-btn icon dark @click=\"closeTerminal\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n          <v-toolbar-title>Debugging Terminal</v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-toolbar-items>\n            <v-btn dark text @click=\"closeTerminal\">Close</v-btn>\n          </v-toolbar-items>\n        </v-toolbar>\n        <div id=\"term\">\n          <!-- Element for BLE Terminal -->\n        </div>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nimport { blx } from '../../blx_api/blx'\nexport default {\n  name: 'Terminal',\n\n  mounted () {},\n  data () {\n    return {\n      notifications: false,\n      sound: true,\n      widgets: false\n    }\n  },\n  watch: {\n    open (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        if (newVal === true) {\n          this.$nextTick(() => {\n            blx.setTerminal('term')\n          })\n        } else {\n          // blx.setTerminal('term')\n        }\n      }\n    }\n  },\n  props: ['open', 'closeTerminal']\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Terminal.vue?vue&type=template&id=112ab310&\"\nimport script from \"./Terminal.vue?vue&type=script&lang=js&\"\nexport * from \"./Terminal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon,VRow,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","<template>\n  <v-app>\n    <v-app-bar app color=\"primary\" dark flat>\n      <div class=\"d-flex align-center flex-shrink-0\"  @dblclick=\"openTerminal\">\n        <!-- <v-img\n          alt=\"Vuetify Logo\"\n          class=\"shrink mr-2\"\n          contain\n          src=\"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png\"\n          transition=\"scale-transition\"\n          width=\"40\"\n        />-->\n        <v-icon class=\"mr-2\">mdi-bluetooth</v-icon>\n        <h1 class=\"text-h6\" style=\"font-weight: 900;\">BLX-PROTOTYPE</h1>\n      </div>\n\n      <v-spacer></v-spacer>\n\n      <v-btn text class=\"ml-auto mr-n4\" @click=\"installApp\" v-if=\"notInstalled\">\n        <v-icon class=\"mr-2\">mdi-arrow-down-bold-circle</v-icon>\n        <span class=\"mr-2 d-none d-sm-block\">Install App</span>\n      </v-btn>\n      <v-btn color=\"accent\" @click=\"openTerminal\">Open Terminal</v-btn>\n    </v-app-bar>\n\n    <v-main>\n      <v-fade-transition>\n        <v-alert\n        v-if=\"!checkBluetoothAvailability && !bluetoothAvailable\"\n          border=\"right\"\n          class=\"ma-4\"\n          elevation=\"1\"\n          type=\"error\"\n        >Bluetooth is not supported in your browser.</v-alert>\n      </v-fade-transition>\n      <router-view :isBluetoothAvailable=\"bluetoothAvailable\" />\n    </v-main>\n    <Terminal :open=\"terminalOpen\" :closeTerminal=\"() => {terminalOpen = false}\"></Terminal>\n    <v-footer color=\"secondary\">\n      <v-spacer></v-spacer>\n      <div>&copy; {{ new Date().getFullYear() }}</div>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport Terminal from './components/Terminal.vue'\nexport default {\n  name: 'App',\n\n  components: { Terminal },\n\n  data: () => ({\n    terminalOpen: false,\n    notInstalled: true,\n    checkBluetoothAvailability: true,\n    bluetoothAvailable: false\n  }),\n\n  created () {\n    if (typeof window.navigator.bluetooth === 'undefined') {\n      this.checkBluetoothAvailability = false\n      this.bluetoothAvailable = false\n    }\n\n    navigator.bluetooth\n      .getAvailability()\n      .then(isBluetoothAvailable => {\n        this.bluetoothAvailable = isBluetoothAvailable\n      })\n      .finally(() => {\n        this.checkBluetoothAvailability = false\n      })\n\n    if ('onavailabilitychanged' in navigator.bluetooth) {\n      navigator.bluetooth.addEventListener('availabilitychanged', function (\n        event\n      ) {\n        this.bluetoothAvailable = event.value\n        console.log(\n          `> Bluetooth is ${event.value ? 'available' : 'unavailable'}`\n        )\n      })\n    }\n  },\n\n  methods: {\n    openTerminal () {\n      this.terminalOpen = true\n    },\n    installApp () {\n      this.notInstalled = false\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  background-color: #fcfcfc;\n  color: white;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6b7d7412&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VApp,VAppBar,VBtn,VFadeTransition,VFooter,VIcon,VMain,VSpacer})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n// import de from 'vuetify/es5/locale/de'\nimport en from 'vuetify/es5/locale/en'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  theme: {\n    options: {\n      customProperties: true\n    },\n    themes: {\n      light: {\n        primary: '#001e67',\n        secondary: '#eceff1',\n        accent: '#FFA823',\n        error: '#a6001f',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FFC107'\n        // primary: '#107FC9',\n        // secondary: '#0E4EAD',\n        // accent: '#0B108C',\n        // error: '#FF5252',\n        // info: '#2196F3',\n        // success: '#4CAF50',\n        // warning: '#FFC107'\n      }\n    }\n  },\n  lang: {\n    locales: { en },\n    current: 'en'\n  }\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\",\"tile\":\"\"}},[_c('v-list',{staticClass:\"mb-2 pt-0\",attrs:{\"outlined\":\"\"}},[_c('v-list-item',{staticClass:\"accent--text font-weight-black\",attrs:{\"two-line\":\"\",\"ripple\":!_vm.isBluetoothAvailable,\"disabled\":!_vm.isBluetoothAvailable,\"color\":\"accent\"},on:{\"click\":_vm.addBleDevice}},[_c('v-list-item-avatar',[_c('v-icon',{staticClass:\"accent white--text\"},[_vm._v(\"mdi-plus\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"accent--text font-weight-black text-left\"},[_vm._v(\"Live Connection\")]),_c('v-list-item-subtitle',{staticClass:\"accent--text font-weight-regular text-left\"},[_vm._v(\"Search for a new Bluetooth device and open a live connection\")])],1)],1),_c('v-divider'),_c('v-subheader',[_vm._v(\"STORED DEVICES\")]),_c('v-list-item-group',{attrs:{\"color\":\"primary\"},model:{value:(_vm.selectedDevice),callback:function ($$v) {_vm.selectedDevice=$$v},expression:\"selectedDevice\"}},_vm._l((_vm.devices),function(device,i){return _c('v-list-item',{key:i,on:{\"dblclick\":function($event){return _vm.openDevice($event,i)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-bluetooth\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-left\",domProps:{\"textContent\":_vm._s(device.name)}})],1)],1)}),1)],1)],1),_c('v-fade-transition',[(typeof _vm.selectedDevice === 'number')?_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"8\",\"sm\":\"10\"}},[_c('v-btn',{attrs:{\"loading\":_vm.connectingToDevice,\"color\":\"accent\",\"depressed\":\"\",\"block\":\"\"},on:{\"click\":_vm.connectToDevice}},[_vm._v(\"Read data\")])],1),_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"2\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"depressed\":\"\",\"color\":\"error\"}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row class=\"text-center\">\n      <v-col>\n        <v-card flat class=\"mx-auto\" tile>\n          <v-list outlined class=\"mb-2 pt-0\">\n            <v-list-item\n              two-line\n              :ripple=\"!isBluetoothAvailable\"\n              :disabled=\"!isBluetoothAvailable\"\n              @click=\"addBleDevice\"\n              class=\"accent--text font-weight-black\"\n              color=\"accent\"\n            >\n              <v-list-item-avatar>\n                <v-icon class=\"accent white--text\">mdi-plus</v-icon>\n              </v-list-item-avatar>\n              <v-list-item-content>\n                <v-list-item-title class=\"accent--text font-weight-black text-left\">Live Connection</v-list-item-title>\n                <v-list-item-subtitle\n                  class=\"accent--text font-weight-regular text-left\"\n                >Search for a new Bluetooth device and open a live connection</v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n            <v-subheader>STORED DEVICES</v-subheader>\n            <v-list-item-group v-model=\"selectedDevice\" color=\"primary\">\n              <v-list-item @dblclick=\"openDevice($event,i)\" v-for=\"(device, i) in devices\" :key=\"i\">\n                <v-list-item-icon>\n                  <v-icon>mdi-bluetooth</v-icon>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title class=\"text-left\" v-text=\"device.name\"></v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list-item-group>\n          </v-list>\n        </v-card>\n        <v-fade-transition>\n          <v-row dense v-if=\"typeof selectedDevice === 'number'\">\n            <v-col cols=\"8\" sm=\"10\">\n              <v-btn\n                :loading=\"connectingToDevice\"\n                @click=\"connectToDevice\"\n                color=\"accent\"\n                depressed\n                block\n              >Read data</v-btn>\n            </v-col>\n            <v-col cols=\"4\" sm=\"2\">\n              <v-btn block depressed color=\"error\">\n                <v-icon>mdi-delete</v-icon>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-fade-transition>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n// BLE-CMDs - BLE JoWi's I/O -----\nconst NUS_SERVICE_UUID = '5c170001-b5a3-f393-e0a9-a37f42997c22'\nconst NUS_DATA_CHARA_WRITE = '5c170002-b5a3-f393-e0a9-a37f42997c22'\nconst NUS_DATA_CHARA_READ_NOTI = '5c170003-b5a3-f393-e0a9-a37f42997c22' // fuer Notifications\n\nexport default {\n  name: 'Landing',\n\n  data: () => ({\n    selectedDevice: null,\n    connectingToDevice: false\n  }),\n  computed: {\n    devices () {\n      return this.$store.state.devices\n    }\n  },\n  methods: {\n    delteDevice () {\n      this.$store.commit('removeDevice', this.selectedDevice)\n    },\n    openDevice (ev, i) {\n      this.$router.push('device/' + this.devices[i].id)\n    },\n    async connectToDevice () {\n      this.connectingToDevice = true\n\n      try {\n        const device = this.devices[this.selectedDevice]\n        const server = await device.gatt.connect()\n        // const nusService = await server.getPrimaryService(NUS_SERVICE_UUID)\n        //   const dataCharaWrite = await nusService.getCharacteristic(NUS_DATA_CHARA_WRITE)\n        //   const readNoti = await nusService.getCharacteristic(NUS_DATA_CHARA_READ_NOTI)\n        //   await readNoti.startNotifications()\n        //   readNoti.addEventListener('characteristicvaluechanged', onBlxNUSData)\n        //   onBlxConnected()\n        this.$router.push('device/' + this.devices[this.selectedDevice].id)\n      } catch (error) {\n        console.log(error)\n        // TODO: Add error-management. Maybe snackbar?\n      } finally {\n        this.connectingToDevice = false\n      }\n      // await new Promise(resolve => setTimeout(resolve, 1500))\n    },\n    async addBleDevice () {\n      if (!this.isBluetoothAvailable) return\n      try {\n        const device = await navigator.bluetooth.requestDevice({\n          filters: [{ services: [NUS_SERVICE_UUID] }]\n        })\n        const storedDevice = {\n          name: device.name,\n          id: device.id,\n          log: [],\n          lastSeen: new Date().toISOString(),\n          lastFetch: null,\n          data: []\n        }\n        this.$store.commit('setCurrentServer', device)\n        this.$store.commit('upsertDevice', storedDevice)\n        this.$router.push('device/' + device.id)\n      } catch (error) {\n        console.warn(error)\n      }\n    }\n  },\n  props: ['isBluetoothAvailable']\n}\n</script>\n\n<style>\n.v-list-item.v-list-item--disabled * {\n  color: gray !important;\n}\n\n.v-list-item.v-list-item--disabled {\n  background-color: #eeeeee;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Landing.vue?vue&type=template&id=bda67e66&\"\nimport script from \"./Landing.vue?vue&type=script&lang=js&\"\nexport * from \"./Landing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Landing.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDivider,VFadeTransition,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemGroup,VListItemIcon,VListItemSubtitle,VListItemTitle,VRow,VSubheader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"blue-grey lighten-5\",attrs:{\"elevation\":\"1\",\"dense\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.goBack}},[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1),_c('v-toolbar-title',[_vm._v(\"Device \"+_vm._s(_vm.$route.params.id))])],1),_c('v-container',{staticClass:\"device\"},[_c('h5',{staticClass:\"primary--text text-left mt-2\"},[_vm._v(\"Current Reading\")]),_c('v-row',{staticClass:\"pb-4\",attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"py-1\",attrs:{\"xs\":\"12\",\"sm\":\"4\",\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"background-color\":\"blue-grey lighten-5\",\"dense\":\"\",\"hide-details\":\"\",\"readonly\":\"\",\"label\":\"Temp.\",\"placeholder\":\"32.5 °C\",\"filled\":\"\"}})],1),_c('v-col',{staticClass:\"py-1\",attrs:{\"xs\":\"12\",\"sm\":\"4\",\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"background-color\":\"blue-grey lighten-5\",\"dense\":\"\",\"hide-details\":\"\",\"readonly\":\"\",\"label\":\"Pressure\",\"placeholder\":\"x hPa\",\"filled\":\"\"}})],1),_c('v-col',{staticClass:\"py-1\",attrs:{\"xs\":\"12\",\"sm\":\"4\",\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"background-color\":\"blue-grey lighten-5\",\"dense\":\"\",\"hide-details\":\"\",\"readonly\":\"\",\"label\":\"Battery\",\"placeholder\":\"2.2 V\",\"color\":\"primary\",\"append-outer-icon\":\"mdi-refresh\",\"filled\":\"\"},on:{\"click:append\":function($event){return _vm.alert('test')}}})],1)],1),_c('v-btn',{attrs:{\"big\":\"\",\"depressed\":\"\",\"block\":\"\",\"color\":\"accent\"}},[_vm._v(\"Fetch Data\")]),_c('v-btn',{attrs:{\"big\":\"\",\"text\":\"\",\"block\":\"\",\"disabled\":\"\"}},[_vm._v(\"Set Parameters\")]),_c('v-btn',{attrs:{\"big\":\"\",\"text\":\"\",\"block\":\"\",\"color\":\"error\"}},[_vm._v(\"Delete Data from Logger\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-toolbar class=\"blue-grey lighten-5\" elevation=\"1\" dense>\n      <v-btn @click=\"goBack\" icon>\n        <v-icon>mdi-arrow-left</v-icon>\n      </v-btn>\n\n      <v-toolbar-title>Device {{$route.params.id}}</v-toolbar-title>\n      <!--\n      <v-spacer></v-spacer>\n\n      <v-btn icon class=\"hidden-xs-only\">\n        <v-icon>mdi-magnify</v-icon>\n      </v-btn>-->\n    </v-toolbar>\n    <v-container class=\"device\">\n      <h5 class=\"primary--text text-left mt-2\">Current Reading</h5>\n      <v-row dense class=\"pb-4\">\n        <v-col class=\"py-1\" xs=\"12\" sm=\"4\" cols=\"12\">\n          <v-text-field background-color=\"blue-grey lighten-5\" dense hide-details readonly label=\"Temp.\" placeholder=\"32.5 °C\" filled></v-text-field>\n        </v-col>\n        <v-col class=\"py-1\" xs=\"12\" sm=\"4\" cols=\"12\">\n          <v-text-field background-color=\"blue-grey lighten-5\" dense hide-details readonly label=\"Pressure\" placeholder=\"x hPa\" filled></v-text-field>\n        </v-col>\n        <v-col class=\"py-1\" xs=\"12\" sm=\"4\" cols=\"12\">\n          <v-text-field background-color=\"blue-grey lighten-5\"\n            dense\n            hide-details\n            readonly\n            label=\"Battery\"\n            placeholder=\"2.2 V\"\n            color=\"primary\"\n            append-outer-icon=\"mdi-refresh\"\n            @click:append=\"alert('test')\"\n            filled\n          ></v-text-field>\n        </v-col>\n      </v-row>\n      <v-btn big depressed block color=\"accent\">Fetch Data</v-btn>\n      <v-btn big text block disabled>Set Parameters</v-btn>\n      <v-btn big text block color=\"error\">Delete Data from Logger</v-btn>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({}),\n  methods: {\n    goBack () {\n      this.$router.go(-1)\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Device.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Device.vue?vue&type=template&id=08ce9078&\"\nimport script from \"./Device.vue?vue&type=script&lang=js&\"\nexport * from \"./Device.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCol,VContainer,VIcon,VRow,VTextField,VToolbar,VToolbarTitle})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Landing from '../../views/Landing.vue'\nimport Device from '../../views/Device.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Landing',\n    component: Landing\n  },\n  {\n    path: '/device/:id',\n    name: 'Device',\n    component: Device\n  }\n  // {\n  //   path: '/about',\n  //   name: 'About',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  // }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst localStoragePrefix = 'BLX_2020_'\n\nexport default new Vuex.Store({\n  state: {\n    isBluetoothAvailable: false,\n    currentServer: null,\n    devices: [\n      { name: 'Testgerät', id: 'xyz', log: [], lastSeen: new Date().toISOString(), lastFetch: new Date().toISOString(), data: [] },\n      { name: 'Gerät 3', id: 'xyz', log: [], lastSeen: new Date().toISOString(), lastFetch: new Date().toISOString(), data: [] }\n    ]\n  },\n  mutations: {\n    initialiseStore (state) {\n      const devicesStr = localStorage.getItem(localStoragePrefix + 'devices')\n      if (typeof devicesStr === 'string') {\n        try {\n          const devices = JSON.parse(devicesStr)\n          if (Array.isArray(devices)) {\n            state.devices = devices\n          }\n        } catch (error) {}\n      }\n    },\n    upsertDevice (state, device) { // insert or update device\n      if (device) {\n        const foundIdx = state.devices.findIndex(el => el.name === device.name && el.id === device.id)\n        if (foundIdx !== -1) {\n          // update old version\n          const newArr = [...state.devices]\n          newArr[foundIdx] = device\n          state.devices = newArr\n        } else {\n          // add new\n          state.devices = [...state.devices, device]\n        }\n        localStorage.setItem(localStoragePrefix + 'devices', JSON.stringify(state.devices))\n      }\n    },\n    removeDevice (state, deviceId) {\n      // TODO: Snackbar with undo operation (click triggers timeout. Only after timeout will it delete the item for real)\n      state.devices.splice(deviceId, 1)\n      state.devices\n        .localStorage.setItem(localStoragePrefix + 'devices', JSON.stringify(state.devices))\n    },\n    setCurrentServer (state, server) {\n      if (server) {\n        state.currentServer = server\n      }\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport vuetify from './plugins/vuetify'\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\nimport router from './plugins/router'\nimport store from './store'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  router,\n  store,\n  beforeCreate () { this.$store.commit('initialiseStore') },\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}